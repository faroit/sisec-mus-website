<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SISEC MUS 2016</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.2.3/css/bulma.min.css">
  <style media="screen">
    .hero-head {
      padding: 0px 20px;
    }
    .hero-head {
    background-color:#ad223e;
    }
    .hero-head .nav .title {
      color: white;
    }
    .hero-head .nav-item a {
      color: white;
    }
  </style>
  <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
  <section class="hero is-default is-bold">
    <div class="hero-head">
      <div class="container">
        <nav class="nav has-shadow">
          <div class="container">
            <div class="nav-left">
              <a class="nav-item" href="/">
                <h1 class="title is-4">SISEC MUS 2016</h1>
              </a>
            </div>
            <span class="nav-toggle">
              <span></span>
              <span></span>
              <span></span>
            </span>
            <div class="nav-right nav-menu">
              <span class="nav-item">
                <a>
                  SISEC Website
                </a>
              </span>
            </div>
          </div>
        </nav>
      </div>
    </div>

    <div class="hero-body">
      <div class="container has-text-centered">
        <div class="columns">
          <div class="column is-10">
            <div id="headmap"></div>
          </div>
          <div class="column is-2">
            <div class="control">
              <div class="select is-fullwidth">
                <select>
                  <option>Select Target!</option>
                  <option>Vocals</option>
                  <option>Accompaniment</option>
                  <option>Drums</option>
                  <option>Bass</option>
                  <option>Other</option>
                </select>
              </div>
            </div>
            <div class="control">
              <div class="select is-fullwidth">
                <select>
                  <option>Select Subset!</option>
                  <option>Dev</option>
                  <option>Test</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <p>
        The source code of this website is licensed
        <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The website content
        is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC ANS 4.0</a>.
      </p>
      <p>
      </p>
    </div>
  </div>
</footer>
<script type="text/javascript">
//height of each row in the heatmap
//width of each column in the heatmap
var gridSize = 50,
    h = gridSize,
    w = gridSize,
    rectPadding = 60;

var colorLow = 'green', colorMed = 'yellow', colorHigh = 'red';

var margin = {top: 20, right: 80, bottom: 30, left: 50},
    width = 640 - margin.left - margin.right,
    height = 380 - margin.top - margin.bottom;

var colorScale = d3.scaleLinear()
     .domain([-10, 0, 10])
     .range([colorLow, colorMed, colorHigh]);

var svg = d3.select("#heatmap").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

d3.csv("out.csv", function(data) {
  var heatMap = svg.selectAll("rect")
    .data(data)
    .enter().append("rect")
    .attr("x", function(d) { return d.estimate_name * w; })
    .attr("y", function(d) { return d.track_id * h; })
    .attr("width", function(d) { return w; })
    .attr("height", function(d) { return h; })
    .style("fill", function(d) { return colorScale(d.score); });

    console.log(data[100].estimate_name);
  });

</script>

</body>
</html>
